[tauri-dev]
# Ubuntu-based Tauri development environment
image=ubuntu:latest
pull=true
replace=true
start_now=false
init=false
root=false

# Core development packages you specified
additional_packages="curl git wget pkg-config libssl-dev libsqlite3-dev libgtk-3-dev libwebkit2gtk-4.1-dev libayatana-appindicator3-dev librsvg2-dev nodejs npm cmake gcc g++ make python3 python3-pip"

# Essential Rust development
additional_packages="build-essential libc6-dev"

# Additional development utilities for self-contained environment
additional_packages="vim nano emacs-nox neovim"
additional_packages="tmux screen"
additional_packages="htop btop tree fd-find ripgrep"
additional_packages="jq yq"
additional_packages="unzip zip tar gzip"
additional_packages="ca-certificates gnupg lsb-release"

# Network and debugging tools
additional_packages="net-tools iputils-ping dnsutils telnet netcat-traditional"
additional_packages="strace ltrace gdb valgrind"

# Version control and collaboration
additional_packages="git-lfs gh"

# Additional libraries that Tauri apps might need
additional_packages="libglib2.0-dev libgdk-pixbuf2.0-dev libpango1.0-dev libatk1.0-dev libgtk-3-dev"
additional_packages="libsoup2.4-dev libjavascriptcoregtk-4.1-dev"
additional_packages="libudev-dev"

# X11 and Wayland support for GUI testing
additional_packages="x11-apps mesa-utils"

# Install Rust via rustup and development tools with debugging
init_hooks="echo 'DEBUG: Starting Rust installation...'"
init_hooks="curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh -s -- -y --default-toolchain stable"
init_hooks="echo 'DEBUG: Rust installation completed, exit code: $?'"
init_hooks="echo 'DEBUG: Adding Rust to PATH and installing components...'"
init_hooks=". ~/.cargo/env && rustup component add clippy rustfmt"
init_hooks="echo 'DEBUG: Rust components added, exit code: $?'"
init_hooks="echo 'DEBUG: Installing tauri-cli...'"
init_hooks=". ~/.cargo/env && cargo install tauri-cli"
init_hooks="echo 'DEBUG: tauri-cli installed, exit code: $?'"
init_hooks="echo 'DEBUG: Installing trunk...'"
init_hooks=". ~/.cargo/env && cargo install trunk"
init_hooks="echo 'DEBUG: trunk installed, exit code: $?'"
init_hooks="echo 'DEBUG: Installing Claude Code via npm...'"
init_hooks="npm install -g @anthropic-ai/claude-code"
init_hooks="echo 'DEBUG: Claude Code installed, exit code: $?'"
init_hooks="echo 'DEBUG: Installing Node.js tools...'"
init_hooks="npm install -g @tauri-apps/cli yarn pnpm typescript"
init_hooks="echo 'DEBUG: Node.js tools installed, exit code: $?'"
init_hooks="echo 'DEBUG: Installing create-tauri-app...'"
init_hooks="npm install -g create-tauri-app"
init_hooks="echo 'DEBUG: All init hooks completed!'"


# Export commonly used development tools to host
exported_bins="/usr/bin/git /usr/bin/code /usr/bin/vim"
exported_bins_path="~/.local/bin"